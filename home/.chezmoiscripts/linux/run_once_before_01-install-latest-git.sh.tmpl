# chezmoi:template:left-delimiter="# {{" right-delimiter=}}
# {{- /*
# See https://www.chezmoi.io/user-guide/frequently-asked-questions/troubleshooting/#chezmoi-reports-forkexec-no-such-file-or-directory-when-running-scripts-on-termux
# for details on the line below. Needed for this script to run successfully in Github Codespaces.
# */ -}}
#!# {{- lookPath "bash" }}

# {{- if .is_apt_distro }}

# {{/*
# Some environments do not support using the latest git, trying to install it
# throws an error like this (for Codespaces):
#    The following packages have unmet dependencies:
#     git : Depends: libc6 (>= 2.34) but 2.31-13+deb11u3 is to be installed
# Also, PPA repositories are a Ubuntu-only concept.
# */ -}}
# {{- if (and (not .is_codespaces) .is_ubuntu) -}}
# Set up the APT repository to get the latest version of git.
sudo apt-get install --yes software-properties-common; # Contains 'add-apt-repository'
sudo add-apt-repository --yes ppa:git-core/ppa;

# Update package lists again after adding repository.
sudo apt-get update;

# {{- end }}

# Install/upgrade git to latest version.
sudo apt-get install --yes --no-install-recommends git;
# {{- end }}
